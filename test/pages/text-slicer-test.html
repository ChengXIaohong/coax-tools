<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文本文件切片工具测试</title>
    <link rel="stylesheet" href="../../css/text-slicer.css">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-case { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .test-result { margin-top: 10px; padding: 10px; border-radius: 3px; }
        .pass { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .file-list-test {
            border: 1px solid #ccc;
            padding: 10px;
            min-height: 100px;
            margin: 10px 0;
            background-color: #f9f9f9;
        }
        .option-item-test {
            margin: 10px 0;
        }
        .input-group-test {
            margin: 10px 0;
        }
        .input-group-test label {
            display: inline-block;
            width: 120px;
        }
        .input-group-test input {
            padding: 5px;
            width: 100px;
        }
    </style>
</head>
<body>
    <h1>文本文件切片工具测试</h1>
    
    <div class="test-case">
        <h3>测试用例 1: 文件上传功能</h3>
        <p>测试文件上传区域的功能</p>
        <div style="border: 2px dashed #ccc; padding: 20px; text-align: center; margin: 10px 0;">
            <p>拖拽文本文件到此处或点击选择文件</p>
            <input type="file" id="fileInputTest" accept=".txt,.log,.csv,text/*">
        </div>
        <button onclick="testFileUpload()">运行测试</button>
        <div id="fileUploadTestResult" class="test-result" style="display:none;"></div>
    </div>
    
    <div class="test-case">
        <h3>测试用例 2: 切片选项功能</h3>
        <p>测试按行数和按文件大小分割的选项</p>
        <div class="option-item-test">
            <input type="radio" id="sliceByLinesTest" name="sliceMethodTest" value="lines" checked>
            <label for="sliceByLinesTest">按行数分割</label>
        </div>
        <div class="option-item-test">
            <input type="radio" id="sliceBySizeTest" name="sliceMethodTest" value="size">
            <label for="sliceBySizeTest">按文件大小分割</label>
        </div>
        
        <div class="input-group-test">
            <label for="linesPerFileTest">每文件行数:</label>
            <input type="number" id="linesPerFileTest" min="1" max="100000" value="1000">
        </div>
        
        <div class="input-group-test">
            <label for="maxFileSizeTest">最大文件大小 (KB):</label>
            <input type="number" id="maxFileSizeTest" min="1" max="102400" value="1024">
        </div>
        
        <button onclick="testSliceOptions()">运行测试</button>
        <div id="sliceOptionsTestResult" class="test-result" style="display:none;"></div>
    </div>
    
    <div class="test-case">
        <h3>测试用例 3: 切片结果显示功能</h3>
        <p>测试切片结果的显示功能</p>
        <div class="file-list-test" id="fileListTest">
            <p>slice_1.txt (大小: 1.2 KB)</p>
            <p>slice_2.txt (大小: 1.1 KB)</p>
            <p>slice_3.txt (大小: 0.8 KB)</p>
        </div>
        <button onclick="testSliceResults()">运行测试</button>
        <div id="sliceResultsTestResult" class="test-result" style="display:none;"></div>
    </div>

    <script>
        // 测试文件上传功能
        function testFileUpload() {
            const fileInput = document.getElementById('fileInputTest');
            
            const hasFileInput = !!fileInput;
            const passed = hasFileInput;
            
            const resultDiv = document.getElementById('fileUploadTestResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result ' + (passed ? 'pass' : 'fail');
            resultDiv.innerHTML = passed 
                ? '测试通过: 文件上传功能正常' 
                : `测试失败: 文件输入=${hasFileInput}`;
        }
        
        // 测试切片选项功能
        function testSliceOptions() {
            const sliceByLines = document.getElementById('sliceByLinesTest');
            const sliceBySize = document.getElementById('sliceBySizeTest');
            const linesPerFile = document.getElementById('linesPerFileTest');
            const maxFileSize = document.getElementById('maxFileSizeTest');
            
            const hasRadioButtons = !!(sliceByLines && sliceBySize);
            const hasInputFields = !!(linesPerFile && maxFileSize);
            const passed = hasRadioButtons && hasInputFields;
            
            const resultDiv = document.getElementById('sliceOptionsTestResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result ' + (passed ? 'pass' : 'fail');
            resultDiv.innerHTML = passed 
                ? '测试通过: 切片选项功能正常' 
                : `测试失败: 单选按钮=${hasRadioButtons}, 输入字段=${hasInputFields}`;
        }
        
        // 测试切片结果显示功能
        function testSliceResults() {
            const fileList = document.getElementById('fileListTest');
            
            const hasFileList = !!fileList;
            const hasContent = fileList && fileList.children.length > 0;
            const passed = hasFileList && hasContent;
            
            const resultDiv = document.getElementById('sliceResultsTestResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result ' + (passed ? 'pass' : 'fail');
            resultDiv.innerHTML = passed 
                ? '测试通过: 切片结果显示功能正常' 
                : `测试失败: 文件列表=${hasFileList}, 内容=${hasContent}`;
        }
    </script>
</body>
</html>